# -*- encoding : utf-8 -*-
require 'test_helper'

class Geo::PointTest < ActiveSupport::TestCase
  test 'path and route counts for point' do
    p1=Geo::Point.create(lat: 1, lng: 1)
    p2=Geo::Point.create(lat: 1, lng: 2)
    p3=Geo::Point.create(lat: 1, lng: 3)
    p4=Geo::Point.create(lat: 1, lng: 4)
    p5=Geo::Point.create(lat: 1, lng: 5)
    Geo::Path.new_path([p1,p2,p3])
    Geo::Path.new_path([p2,p4])
    Geo::Path.new_path([p3,p4,p5])
    assert_equal 1, p1.path_count
    assert_equal 1, p1.route_count
    assert_equal 2, p2.path_count
    assert_equal 3, p2.route_count
    assert_equal 2, p3.path_count
    assert_equal 2, p3.route_count
    assert_equal 2, p4.path_count
    assert_equal 3, p4.route_count
  end
end
