<%=view_for @line, title: @title, icon: '/icons/arrow-switch.png', collapsible: true do |f|
  f.text_field 'name'
  f.text_field 'region', url: ->(x) { region_url(id: x.region.id) }
  f.complex_field label: 'საფარის დეტალები' do |c|
    c.text_field 'detail.surface.type.name', url: objects_path_type_url(id: @line.detail.surface.type.id)
    c.text_field 'detail.surface.name', url: objects_path_surface_url(id: @line.detail.surface.id), before: '&rarr;'.html_safe
    c.text_field 'detail.name', url: objects_path_detail_url(id: @line.detail.id), before: '&rarr;'.html_safe
  end
  f.text_field 'description'
  f.number_field 'length', after: 'კმ'
  f.text_field 'points.count', i18n: 'points', tag: 'code'
end%>
<%= render partial: '/layouts/paths', locals: {paths: [ @line ], direction: false} %>